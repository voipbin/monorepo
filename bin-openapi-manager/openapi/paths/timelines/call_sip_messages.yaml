get:
  summary: Get SIP messages for a call
  description: |
    Returns SIP message timeline for the specified call from Homer SIP capture.
    Internal-to-internal messages (where both src and dst IPs are RFC 1918 private addresses) are filtered out.
  tags:
    - Timeline
  parameters:
    - name: call_id
      in: path
      required: true
      description: The UUID of the call
      schema:
        type: string
        format: uuid
  responses:
    '200':
      description: SIP messages for the call.
      content:
        application/json:
          schema:
            type: object
            properties:
              next_page_token:
                type: string
                description: Token for fetching the next page of results (empty if no more pages)
              result:
                type: array
                items:
                  type: object
                  properties:
                    timestamp:
                      type: string
                      format: date-time
                    method:
                      type: string
                    src_ip:
                      type: string
                    src_port:
                      type: integer
                    dst_ip:
                      type: string
                    dst_port:
                      type: integer
                    raw:
                      type: string
    '400':
      description: Invalid request parameters
    '403':
      description: Permission denied
    '404':
      description: Call not found or no SIP data available
    '502':
      description: Upstream service unavailable
