get:
  summary: Password reset page
  description: |
    Serves an HTML page with a password reset form.

    The agent clicks the reset link from their email, which opens this page.
    The page contains a form to enter a new password.

    This endpoint does not require authentication.

    **Note:** This endpoint is available at `/auth/password-reset` (not under `/v1.0` prefix).
  tags:
    - Auth
  security: []
  parameters:
    - name: token
      in: query
      required: true
      description: The password reset token from the email link
      schema:
        type: string
  responses:
    '200':
      description: HTML page with password reset form
      content:
        text/html:
          schema:
            type: string
    '400':
      description: Bad request - missing token parameter

post:
  summary: Execute password reset
  description: |
    Validates the reset token and updates the agent's password.

    This endpoint does not require authentication.

    **Note:** This endpoint is available at `/auth/password-reset` (not under `/v1.0` prefix).
  tags:
    - Auth
  security: []
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          required:
            - token
            - password
          properties:
            token:
              type: string
              description: The password reset token from the email link
            password:
              type: string
              description: The new password
              format: password
              minLength: 8
  responses:
    '200':
      description: Password successfully reset
      content:
        application/json:
          schema:
            type: object
    '400':
      description: Bad request - invalid or expired token, or invalid password
