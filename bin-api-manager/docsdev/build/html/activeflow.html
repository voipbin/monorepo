<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="./">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>Activeflow &mdash; voipbin  documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8e8a900e" />
      <link rel="stylesheet" type="text/css" href="_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="genindex.html" />
            <link rel="search" title="Search" href="search.html" />
            <link rel="top" title="voipbin  documentation" href="#" />
            <link rel="next" title="Call" href="call.html" />
            <link rel="prev" title="Flow" href="flow.html" />
    </head>
<body>
    <script type="text/javascript" src="_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="intro.html"
                        title="voipbin"
                        class="logo navbar-brand"
                    >
                        <img src="_static/images/voipbin-high-resolution-logo-white-transparent.png" width="45" height="80" alt="voipbin"
                            class="logo-img"
                        />
                        VoIPBin Documentation
                    </a>
                
                
                    <div class="collapse navbar-collapse justify-content-end">
                        <ul class="navbar-nav">
                            
                                
                                
                                <li class="nav-item"><a class="nav-link"  href="http://voipbin.net">Project</a></li>
                            
                                
                                
                                <li class="nav-item"><a class="nav-link"  href="https://admin.voipbin.net">Admin</a></li>
                            
                        </ul>
                    </div>
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="restful_api.html">RESTful API(Application Programming Interface)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdk.html">SDK(Software Development Kit)</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="accesskey.html">Accesskey</a></li>
<li class="toctree-l1"><a class="reference internal" href="flow.html">Flow</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Activeflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="call.html">Call</a></li>
<li class="toctree-l1"><a class="reference internal" href="message.html">Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="email.html">Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="agent.html">Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="conference.html">Conference</a></li>
<li class="toctree-l1"><a class="reference internal" href="mediastream.html">Mediastream</a></li>
<li class="toctree-l1"><a class="reference internal" href="conversation.html">Conversation</a></li>
<li class="toctree-l1"><a class="reference internal" href="extension.html">Extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="number.html">Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="queue.html">Queue</a></li>
<li class="toctree-l1"><a class="reference internal" href="recording.html">Recording</a></li>
<li class="toctree-l1"><a class="reference internal" href="tag.html">Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="campaign.html">Campaign</a></li>
<li class="toctree-l1"><a class="reference internal" href="outdial.html">Outdial</a></li>
<li class="toctree-l1"><a class="reference internal" href="outplan.html">Outplan</a></li>
<li class="toctree-l1"><a class="reference internal" href="webhook.html">Webhook</a></li>
<li class="toctree-l1"><a class="reference internal" href="customer.html">Customer</a></li>
<li class="toctree-l1"><a class="reference internal" href="chat.html">Chat</a></li>
<li class="toctree-l1"><a class="reference internal" href="talk.html">Talk</a></li>
<li class="toctree-l1"><a class="reference internal" href="ai.html">AI</a></li>
<li class="toctree-l1"><a class="reference internal" href="provider.html">Provider</a></li>
<li class="toctree-l1"><a class="reference internal" href="route.html">Route</a></li>
<li class="toctree-l1"><a class="reference internal" href="variable.html">Variable</a></li>
<li class="toctree-l1"><a class="reference internal" href="websocket.html">Websocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="trunk.html">Trunk</a></li>
<li class="toctree-l1"><a class="reference internal" href="billing_account.html">Billing Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="transcribe.html">Transcribe</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">Activeflow</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="_sources/activeflow.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="activeflow">
<span id="activeflow-main"></span><h1>Activeflow<a class="headerlink" href="#activeflow" title="Link to this heading"></a></h1>
<section id="overview">
<span id="activeflow-overview"></span><h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The activeflow is a dynamic entity within the VoIPBIN system that plays a vital role in representing the real-time state of a registered flow. As the flow is executed, it generates an activeflow, which contains an action cursor and relevant status information. This activeflow serves as a control interface, providing efficient management and flexibility during flow execution.</p>
<p>In essence, the activeflow concept is a powerful tool that facilitates the smooth and flexible execution of registered flows. Its dynamic nature allows for real-time updates, ensuring that users can monitor and manage the flow execution efficiently.</p>
<p>By providing real-time status updates and a flexible control interface, the activeflow becomes a valuable tool for businesses to efficiently manage complex workflows and automate their critical processes. The stop functionality adds an extra layer of control and adaptability, allowing users to make informed decisions and optimize their flow executions as required.</p>
<section id="flow-vs-activeflow">
<h3>Flow vs ActiveFlow<a class="headerlink" href="#flow-vs-activeflow" title="Link to this heading"></a></h3>
<p>Understanding the difference between a Flow and an ActiveFlow is essential for working with VoIPBIN.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌─────────────────────────────────────────────────────────────────────────┐
│                        Flow vs ActiveFlow                                │
└─────────────────────────────────────────────────────────────────────────┘

Flow (Template)                         ActiveFlow (Running Instance)
┌─────────────────────────┐            ┌─────────────────────────────────┐
│ • Static definition     │            │ • Dynamic execution state       │
│ • Reusable template     │            │ • One-time instance             │
│ • Stored in database    │            │ • Tracks current position       │
│ • No execution state    │            │ • Contains variables            │
│                         │            │ • Linked to call/conversation   │
└─────────────────────────┘            └─────────────────────────────────┘
           │                                        ▲
           │     When triggered                     │
           └────────────────────────────────────────┘
                    Creates
</pre></div>
</div>
<p><strong>Analogy</strong>: A Flow is like a recipe book. An ActiveFlow is like actually cooking that recipe - you track which step you’re on, what ingredients you’ve used, and the current state of the dish.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Flow (Recipe Book)                    ActiveFlow (Cooking Session)
┌────────────────────┐               ┌────────────────────────────────┐
│ Step 1: Answer     │               │ Step 1: Answer ✓ (done)        │
│ Step 2: Talk       │   ──────▶     │ Step 2: Talk ◀── current       │
│ Step 3: Branch     │               │ Step 3: Branch (pending)       │
│ Step 4: Hangup     │               │ Step 4: Hangup (pending)       │
└────────────────────┘               │                                │
                                     │ Variables:                     │
                                     │   caller_id: &quot;+1234567890&quot;     │
                                     │   digits: &quot;2&quot;                  │
                                     └────────────────────────────────┘
</pre></div>
</div>
</section>
<section id="activeflow-states">
<h3>ActiveFlow States<a class="headerlink" href="#activeflow-states" title="Link to this heading"></a></h3>
<p>An activeflow has two possible states during its lifecycle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌────────────┐                              ┌────────────┐
│  running   │─────────────────────────────▶│   ended    │
└────────────┘                              └────────────┘
      │                                            │
      │                                            │
Actions executing                           Final state
Cursor moving                               No more changes
Variables updating                          History preserved
</pre></div>
</div>
</section>
<section id="execution">
<h3>Execution<a class="headerlink" href="#execution" title="Link to this heading"></a></h3>
<p>The activeflow’s significance lies in its ability to manage complex workflows and automate business processes effectively. As the flow progresses through its various stages, the activeflow dynamically represents its current state. This representation provides valuable insights into the flow’s progress and status, enabling efficient and informed management of its execution.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌───────────────────────────────────────────────────────────────────────┐
│                     ActiveFlow Execution Model                         │
└───────────────────────────────────────────────────────────────────────┘

Incoming Call           ActiveFlow Created            Execution Begins
     │                        │                            │
     ▼                        ▼                            ▼
┌─────────┐              ┌─────────┐                 ┌─────────────┐
│  CALL   │─────────────▶│  NEW    │────────────────▶│  RUNNING    │
│ arrives │              │ instance│                 │  actions    │
└─────────┘              └─────────┘                 └──────┬──────┘
                              │                            │
                              │                            ▼
                              │                      ┌───────────┐
                              │  Variables set:      │  cursor   │
                              │  • reference_type    │  moves    │──┐
                              │  • reference_id      └───────────┘  │
                              │  • customer_id                      │
                              │  • flow_id                          │
                              └─────────────────────────────────────┘
</pre></div>
</div>
<img alt="_images/activeflow_overview_execution.png" src="_images/activeflow_overview_execution.png" />
</section>
<section id="how-the-cursor-works">
<h3>How the Cursor Works<a class="headerlink" href="#how-the-cursor-works" title="Link to this heading"></a></h3>
<p>The activeflow maintains a “cursor” that tracks the current position in the flow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Action Array:
┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐
│ answer  │   │  talk   │   │ digits  │   │ branch  │   │ hangup  │
│ index:0 │   │ index:1 │   │ index:2 │   │ index:3 │   │ index:4 │
└─────────┘   └─────────┘   └─────────┘   └─────────┘   └─────────┘
                   ▲
                   │
                current_action (cursor is here)
</pre></div>
</div>
<p><strong>Cursor Movement Rules:</strong></p>
<ol class="arabic simple">
<li><p><strong>Sequential</strong>: By default, cursor moves to the next action in array order</p></li>
<li><p><strong>Jump</strong>: Actions like <code class="docutils literal notranslate"><span class="pre">goto</span></code> and <code class="docutils literal notranslate"><span class="pre">branch</span></code> can jump to any action by ID</p></li>
<li><p><strong>Nested</strong>: Some actions push a new stack (queue_join, ai_talk), cursor enters nested stack</p></li>
<li><p><strong>Return</strong>: When nested stack completes, cursor returns to original position</p></li>
</ol>
</section>
<section id="stack-based-execution">
<h3>Stack-Based Execution<a class="headerlink" href="#stack-based-execution" title="Link to this heading"></a></h3>
<p>ActiveFlows use a stack-based model to handle nested flows (like queue wait flows or AI conversations):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌─────────────────────────────────────────────────────────────────────┐
│                       Stack-Based Execution                          │
└─────────────────────────────────────────────────────────────────────┘

Main Stack                          Nested Stack (from queue_join)
┌─────────────────────┐            ┌─────────────────────────────────┐
│ 1. answer           │            │                                 │
│ 2. queue_join ══════╬═══════════▶│ wait_flow actions:              │
│ 3. talk &quot;connected&quot; │            │   • talk &quot;Please hold...&quot;       │
│ 4. hangup           │            │   • play music.mp3              │
└─────────────────────┘            │   • (loops until agent answers) │
       ▲                           └─────────────────────────────────┘
       │                                         │
       │    When agent answers,                  │
       └─────────────────────────────────────────┘
             return to main stack
</pre></div>
</div>
<p><strong>Stack Map Structure:</strong></p>
<p>The activeflow maintains a <code class="docutils literal notranslate"><span class="pre">stack_map</span></code> that tracks all stacks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stack_map</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;main&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">actions</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span>
        <span class="n">current_index</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">return_stack</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="n">return_action</span><span class="p">:</span> <span class="n">null</span>
    <span class="p">},</span>
    <span class="s2">&quot;queue-wait-abc123&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">actions</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="n">wait</span> <span class="n">flow</span> <span class="n">actions</span><span class="o">...</span><span class="p">],</span>
        <span class="n">current_index</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">return_stack</span><span class="p">:</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span>
        <span class="n">return_action</span><span class="p">:</span> <span class="s2">&quot;talk connected&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="reference-types">
<h3>Reference Types<a class="headerlink" href="#reference-types" title="Link to this heading"></a></h3>
<p>Each activeflow is linked to a reference - the entity that triggered it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌────────────────────────────────────────────────────────────────────┐
│                    ActiveFlow Reference Types                       │
└────────────────────────────────────────────────────────────────────┘
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Reference Type</p></th>
<th class="head"><p>When it’s used</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>call</p></td>
<td><p>Flow was triggered by an incoming or outgoing call</p></td>
</tr>
<tr class="row-odd"><td><p>conversation</p></td>
<td><p>Flow was triggered by a message in a conversation</p></td>
</tr>
<tr class="row-even"><td><p>api</p></td>
<td><p>Flow was triggered directly via API call</p></td>
</tr>
<tr class="row-odd"><td><p>campaign</p></td>
<td><p>Flow was triggered by an outbound campaign</p></td>
</tr>
<tr class="row-even"><td><p>transcribe</p></td>
<td><p>Flow was triggered for transcription processing</p></td>
</tr>
<tr class="row-odd"><td><p>recording</p></td>
<td><p>Flow was triggered for recording processing</p></td>
</tr>
<tr class="row-even"><td><p>ai</p></td>
<td><p>Flow was triggered for AI processing</p></td>
</tr>
</tbody>
</table>
<p><strong>Reference Impact on Actions:</strong></p>
<p>The reference type determines which actions are available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Reference: call                     Reference: api
┌─────────────────────────┐        ┌─────────────────────────┐
│ ✓ answer                │        │ ✗ answer (no call)      │
│ ✓ talk                  │        │ ✗ talk (no media)       │
│ ✓ digits_receive        │        │ ✗ digits_receive        │
│ ✓ recording_start       │        │ ✗ recording_start       │
│ ✓ message_send          │        │ ✓ message_send          │
│ ✓ email_send            │        │ ✓ email_send            │
│ ✓ webhook_send          │        │ ✓ webhook_send          │
│ ✓ variable_set          │        │ ✓ variable_set          │
└─────────────────────────┘        └─────────────────────────┘
</pre></div>
</div>
<p>When an action is not available for the reference type, it is skipped and execution continues to the next action.</p>
</section>
<section id="status-and-control-interface">
<h3>Status and Control interface<a class="headerlink" href="#status-and-control-interface" title="Link to this heading"></a></h3>
<p>The activeflow includes essential status information that allows users to monitor the flow’s progress closely. This information encompasses details about the activeflow’s current state, including completed and pending actions. Additionally, the activeflow offers a control interface that empowers users to manage the execution process. This interface enables actions such as stopping the activeflow at any point and modifying its configuration or parameters as needed.</p>
<p><strong>Control API Endpoints:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌─────────────────────────────────────────────────────────────────────┐
│                    ActiveFlow Control Interface                      │
└─────────────────────────────────────────────────────────────────────┘

GET /v1/activeflows/{id}
├── View current state
├── See current_action
├── Review executed_actions
└── Check variables

POST /v1/activeflows/{id}/execute
├── Resume a blocked flow
├── Push new actions
└── Continue execution

POST /v1/activeflows/{id}/stop
├── Immediately stop execution
├── Status changes to &quot;ended&quot;
└── Triggers on_complete_flow if set
</pre></div>
</div>
</section>
<section id="activeflow-lifecycle">
<h3>Activeflow Lifecycle<a class="headerlink" href="#activeflow-lifecycle" title="Link to this heading"></a></h3>
<p>The activeflow executes the actions until one of the following conditions is met:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌─────────────────────────────────────────────────────────────────────┐
│                  ActiveFlow Termination Conditions                   │
└─────────────────────────────────────────────────────────────────────┘

Condition 1: End of Actions
┌───┐   ┌───┐   ┌───┐   ┌─────────┐
│ 1 │──▶│ 2 │──▶│ 3 │──▶│  DONE   │  → Status: ended
└───┘   └───┘   └───┘   └─────────┘

Condition 2: Stop Action
┌───┐   ┌───┐   ┌──────┐
│ 1 │──▶│ 2 │──▶│ stop │  → Status: ended
└───┘   └───┘   └──────┘

Condition 3: Reference Ends (e.g., call hangup)
┌───┐   ┌───┐   ┌───┐
│ 1 │──▶│ 2 │──▶│ X │  → Call hangup → Status: ended
└───┘   └───┘   └───┘

Condition 4: API Stop Request
┌───┐   ┌───┐   ┌───┐
│ 1 │──▶│ 2 │──▶│ 3 │  + POST /stop → Status: ended
└───┘   └───┘   └───┘
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Main Service Type Completion:</strong> The activeflow continues executing flow actions until the primary service type is completed. For instance, in the case of a call service, actions will be executed until the call is hung up.</p></li>
<li><p><strong>Stop Action Execution:</strong> Execution ceases if an action with the type “stop” is encountered in the flow.</p></li>
<li><p><strong>User-Initiated Interruption:</strong> Users can actively interrupt their activeflow by sending a POST request to the endpoint: <a class="reference external" href="https://api.voipbin.net/v1/activeflows">https://api.voipbin.net/v1/activeflows</a>/&lt;activeflow-id&gt;/stop.</p></li>
</ul>
</section>
<section id="variable-management">
<h3>Variable Management<a class="headerlink" href="#variable-management" title="Link to this heading"></a></h3>
<p>Each activeflow maintains its own set of variables that persist throughout execution:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌─────────────────────────────────────────────────────────────────────┐
│                    ActiveFlow Variable Storage                       │
└─────────────────────────────────────────────────────────────────────┘

ActiveFlow: abc-123-def
┌─────────────────────────────────────────────────────────────────────┐
│ Variables Map                                                        │
├─────────────────────────────────┬───────────────────────────────────┤
│ voipbin.activeflow.id           │ &quot;abc-123-def&quot;                     │
│ voipbin.activeflow.reference_id │ &quot;call-456&quot;                        │
│ voipbin.call.digits             │ &quot;2&quot;                               │
│ voipbin.call.caller_id          │ &quot;+14155551234&quot;                    │
│ customer.language               │ &quot;en-US&quot;                           │
│ customer.tier                   │ &quot;premium&quot;                         │
└─────────────────────────────────┴───────────────────────────────────┘
</pre></div>
</div>
<p><strong>Variable Lifecycle:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Created when activeflow starts (built-in variables)
      │
      ▼
2. Updated by actions (digits_receive, variable_set, fetch)
      │
      ▼
3. Read by actions (branch, condition_variable, talk with ${var})
      │
      ▼
4. Inherited by on_complete_flow (if configured)
      │
      ▼
5. Preserved in database when activeflow ends
</pre></div>
</div>
</section>
<section id="executed-actions">
<h3>Executed Actions<a class="headerlink" href="#executed-actions" title="Link to this heading"></a></h3>
<p>Within the CPaaS environment, flows can be complex, incorporating various service types such as call, SMS, chat, and more. Handling history logs for these diverse services requires a structured approach.</p>
<p>VoIPBIN simplifies the tracking of executed actions by providing a comprehensive history log within the activeflow. Unlike traditional telephony services with straightforward flows, CPaaS services demand a more flexible approach due to their diverse nature.</p>
<p>In VoIPBIN, each action in the activeflow defines a distinct step in the service’s behavior. This ensures clarity in tracking the sequence of actions performed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌─────────────────────────────────────────────────────────────────────┐
│                    Executed Actions History                          │
└─────────────────────────────────────────────────────────────────────┘

Time ──────────────────────────────────────────────────────────────▶

┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐
│ answer   │──▶│ talk     │──▶│ connect  │──▶│ message  │
│ 10:00:01 │   │ 10:00:02 │   │ 10:00:15 │   │ 10:00:45 │
└──────────┘   └──────────┘   └──────────┘   └──────────┘
     ▼              ▼              ▼              ▼
┌─────────────────────────────────────────────────────────┐
│              executed_actions array                      │
└─────────────────────────────────────────────────────────┘
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;executed_actions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;connect&quot;</span><span class="p">,</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;tel&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;+821021656521&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;destinations&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;tel&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;+821021546521&quot;</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;605f5650-ba92-4dcd-bdac-91fcf6260939&quot;</span><span class="p">,</span>
            <span class="s2">&quot;next_id&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;message_send&quot;</span><span class="p">,</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;hello, this is a test message.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;tel&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;+821021656521&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;destinations&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;tel&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;+31616818985&quot;</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>With the detailed information provided in the executed_actions array, customers can easily review and understand the history logs of their CPaaS services.</p>
</section>
<section id="on-complete-flow">
<h3>On Complete Flow<a class="headerlink" href="#on-complete-flow" title="Link to this heading"></a></h3>
<p>When an activeflow ends, it can trigger another flow automatically:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌─────────────────────────────────────────────────────────────────────┐
│                    On Complete Flow Chain                            │
└─────────────────────────────────────────────────────────────────────┘

ActiveFlow A                             ActiveFlow B
┌─────────────────────────┐             ┌─────────────────────────┐
│ on_complete_flow_id: B  │             │ Created automatically   │
│                         │             │                         │
│ status: &quot;ended&quot;         │────────────▶│ status: &quot;running&quot;       │
│                         │             │                         │
│ Variables:              │  inherited  │ Variables:              │
│   call_id: &quot;123&quot;        │────────────▶│   call_id: &quot;123&quot;        │
│   recording_id: &quot;456&quot;   │             │   recording_id: &quot;456&quot;   │
└─────────────────────────┘             └─────────────────────────┘
</pre></div>
</div>
<p><strong>Key Behaviors:</strong></p>
<ul class="simple">
<li><p>New activeflow is created with a new ID</p></li>
<li><p>Variables are copied from parent to child</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reference_activeflow_id</span></code> is set to parent’s ID (tracks the chain)</p></li>
<li><p>Maximum chain depth is 5 (prevents infinite loops)</p></li>
</ul>
</section>
<section id="error-handling">
<h3>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading"></a></h3>
<p>ActiveFlows handle errors gracefully to ensure reliable execution:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌─────────────────────────────────────────────────────────────────────┐
│                    Error Handling Scenarios                          │
└─────────────────────────────────────────────────────────────────────┘

Scenario: Action fails
┌───┐   ┌───┐   ┌─────┐   ┌───┐
│ 1 │──▶│ 2 │──▶│ ERR │──▶│ 4 │  (skip failed action, continue)
└───┘   └───┘   └─────┘   └───┘

Scenario: Critical failure
┌───┐   ┌───┐   ┌─────┐
│ 1 │──▶│ 2 │──▶│ ERR │  → Status: ended (flow stops)
└───┘   └───┘   └─────┘

Scenario: Max iterations exceeded
┌───┐   ┌───┐   ┌───┐   ┌───┐
│ 1 │◀─▶│ 2 │◀─▶│ 3 │◀─▶│ X │  → Infinite loop detected, stop
└───┘   └───┘   └───┘   └───┘
</pre></div>
</div>
<p><strong>Safety Limits:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Limit</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Max iterations per cycle</p></td>
<td><p>1000</p></td>
<td><p>Prevents infinite loops in goto/branch</p></td>
</tr>
<tr class="row-odd"><td><p>Max total execute calls</p></td>
<td><p>100</p></td>
<td><p>Prevents runaway execution</p></td>
</tr>
<tr class="row-even"><td><p>Max on_complete chain depth</p></td>
<td><p>5</p></td>
<td><p>Prevents infinite flow chaining</p></td>
</tr>
</tbody>
</table>
</section>
<section id="common-use-cases">
<h3>Common Use Cases<a class="headerlink" href="#common-use-cases" title="Link to this heading"></a></h3>
<p><strong>Use Case 1: IVR Menu with History Tracking</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌────────────────────────────────────────────────────────────────────┐
│ executed_actions shows the complete journey:                        │
│                                                                     │
│ 1. answer ─▶ 2. talk &quot;Welcome&quot; ─▶ 3. digits &quot;2&quot; ─▶ 4. branch       │
│      ─▶ 5. talk &quot;Support&quot; ─▶ 6. queue_join ─▶ 7. connect agent     │
└────────────────────────────────────────────────────────────────────┘
</pre></div>
</div>
<p><strong>Use Case 2: Post-Call Processing</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Call Flow ActiveFlow                After Call Work ActiveFlow
┌──────────────────────┐           ┌──────────────────────────────┐
│ answer               │           │ fetch recording              │
│ talk                 │           │ ai_summarize                 │
│ connect to agent     │           │ webhook_send summary         │
│ (call ends)          │──────────▶│ email_send transcript        │
│                      │           │                              │
│ on_complete: &quot;acw&quot;   │           │ Inherits: recording_id,      │
└──────────────────────┘           │           call_id            │
                                   └──────────────────────────────┘
</pre></div>
</div>
<p><strong>Use Case 3: Debugging Flow Execution</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>GET /v1/activeflows/{id}

Response shows:
{
    &quot;status&quot;: &quot;running&quot;,
    &quot;current_action&quot;: {
        &quot;type&quot;: &quot;digits_receive&quot;,
        &quot;option&quot;: { &quot;duration&quot;: 5000 }
    },
    &quot;executed_actions&quot;: [
        { &quot;type&quot;: &quot;answer&quot;, ... },
        { &quot;type&quot;: &quot;talk&quot;, &quot;option&quot;: { &quot;text&quot;: &quot;Welcome&quot; } }
    ],
    &quot;variables&quot;: {
        &quot;voipbin.call.caller_id&quot;: &quot;+14155551234&quot;
    }
}

→ You can see exactly where the flow is and what has happened
</pre></div>
</div>
</section>
</section>
<section id="activeflow-struct-activeflow">
<span id="id1"></span><h2>Activeflow<a class="headerlink" href="#activeflow-struct-activeflow" title="Link to this heading"></a></h2>
<section id="activeflow-struct-activeflow-activeflow">
<span id="id2"></span><h3>Activeflow<a class="headerlink" href="#activeflow-struct-activeflow-activeflow" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;customer_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;flow_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reference_type&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reference_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;current_action&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="o">...</span>
    <span class="p">},</span>
    <span class="s2">&quot;forward_action_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tm_create&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tm_update&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tm_delete&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>id: Activeflow’s ID.</p></li>
<li><p>customer_id: Customer’s ID.</p></li>
<li><p>flow_id: Flow’s ID.</p></li>
<li><p><em>status</em>: Activeflow’s status. See detail <a class="reference internal" href="activeflow_struct_activeflow.html#activeflow-struct-activeflow-status"><span class="std std-ref">here</span></a>.</p></li>
<li><p><em>reference_type</em>: Represent which resource started activeflow.</p></li>
<li><p>reference_id: Referenced type’s ID.</p></li>
<li><p>current_action: Currently running actino on this activeflow. See detail <a class="reference internal" href="flow_struct_action.html#flow-struct-action-action"><span class="std std-ref">here</span></a>.</p></li>
<li><p>forward_action_id: Forward action id.</p></li>
</ul>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;6f18ae1c-ddf8-413b-9572-ad30574604ef&quot;</span><span class="p">,</span>
    <span class="s2">&quot;customer_id&quot;</span><span class="p">:</span> <span class="s2">&quot;5e4a0680-804e-11ec-8477-2fea5968d85b&quot;</span><span class="p">,</span>
    <span class="s2">&quot;flow_id&quot;</span><span class="p">:</span> <span class="s2">&quot;93993ae1-0408-4639-ad5f-1288aa8d4325&quot;</span><span class="p">,</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ended&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reference_type&quot;</span><span class="p">:</span> <span class="s2">&quot;call&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reference_id&quot;</span><span class="p">:</span> <span class="s2">&quot;fd581a20-2606-47fd-a7e8-6bba7c294170&quot;</span><span class="p">,</span>
    <span class="s2">&quot;current_action&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;93ebcadb-ecae-4291-8d49-ca81a926b8b3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;next_id&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;digits_receive&quot;</span><span class="p">,</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="mi">5000</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;forward_action_id&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tm_create&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-04-06 14:53:12.569073&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tm_update&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-04-06 14:54:24.652558&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tm_delete&quot;</span><span class="p">:</span> <span class="s2">&quot;9999-01-01 00:00:00.000000&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="status">
<span id="activeflow-struct-activeflow-status"></span><h3>Status<a class="headerlink" href="#status" title="Link to this heading"></a></h3>
<p>Activeflow’s status.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>EMPTY</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>running</p></td>
<td><p>Activeflow is running.</p></td>
</tr>
<tr class="row-even"><td><p>ended</p></td>
<td><p>Activeflow has stopped.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="reference-type">
<h3>Reference type<a class="headerlink" href="#reference-type" title="Link to this heading"></a></h3>
<p>Tiggerred resource.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>EMPTY</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>call</p></td>
<td><p>Call resource started the activeflow.</p></td>
</tr>
<tr class="row-even"><td><p>sms</p></td>
<td><p>SMS resource started the activeflow.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="tutorial">
<span id="activeflow-tutorial"></span><h2>Tutorial<a class="headerlink" href="#tutorial" title="Link to this heading"></a></h2>
<section id="get-activeflow-list">
<h3>Get activeflow list<a class="headerlink" href="#get-activeflow-list" title="Link to this heading"></a></h3>
<p>Getting a list of activeflows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ curl -k --location --request GET &#39;https://api.voipbin.net/v1.0/activeflows?token=&lt;YOUR_AUTH_TOKEN&gt;&#39;

{
    &quot;result&quot;: [
        {
            &quot;id&quot;: &quot;6f18ae1c-ddf8-413b-9572-ad30574604ef&quot;,
            &quot;customer_id&quot;: &quot;5e4a0680-804e-11ec-8477-2fea5968d85b&quot;,
            &quot;flow_id&quot;: &quot;93993ae1-0408-4639-ad5f-1288aa8d4325&quot;,
            &quot;status&quot;: &quot;ended&quot;,
            &quot;reference_type&quot;: &quot;call&quot;,
            &quot;reference_id&quot;: &quot;fd581a20-2606-47fd-a7e8-6bba7c294170&quot;,
            &quot;current_action&quot;: {
                &quot;id&quot;: &quot;93ebcadb-ecae-4291-8d49-ca81a926b8b3&quot;,
                &quot;next_id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
                &quot;type&quot;: &quot;digits_receive&quot;,
                &quot;option&quot;: {
                    &quot;length&quot;: 1,
                    &quot;duration&quot;: 5000
                }
            },
            &quot;forward_action_id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
            &quot;tm_create&quot;: &quot;2023-04-06 14:53:12.569073&quot;,
            &quot;tm_update&quot;: &quot;2023-04-06 14:54:24.652558&quot;,
            &quot;tm_delete&quot;: &quot;9999-01-01 00:00:00.000000&quot;
        },
        ...
    ],
    &quot;next_page_token&quot;: &quot;2023-04-02 13:43:30.576077&quot;
}
</pre></div>
</div>
</section>
<section id="stop-activeflow">
<h3>Stop activeflow<a class="headerlink" href="#stop-activeflow" title="Link to this heading"></a></h3>
<p>Stop the activeflow.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ curl --location --request POST &#39;https://api.voipbin.net/v1.0/activeflows/1cb0566c-6aa5-45fd-beb7-e71a968075ea/stop?token=eyJhbGciOiJIzI1NiIsInR5cCI6IkpXVCJ9.eyJjdXN0b21lciI6IntcImlkXCI6XCI1ZTRhMDY4MC04MDRlLTExZWMtODQ3Ny0yZmVhNTk2OGQ4NWJcIixcInVzZXJuYW1lXCI6XCJhZG1pblwiLFwibmFtZVwiOlwiYWRtaW5cIixcImRldGFpbFwiOlwiYWRtaW4gYWNjb3VudFwiLFwid2ViaG9va19tZXRob2RcIjpcIlBPU1RcIixcIndlYmhvb2tfdXJpXCI6XCJodHRwczovL2VubG1ieXVqamowbWcueC5waXBlZHJlYW0ubmV0XCIsXCJsaW5lX3NlY3JldFwiOlwiYmE1ZjA1NzVkODI2ZDViNGEwNTJhNDMxNDVlZjEzOTFcIixcImxpbmVfdG9rZW5cIjpcInRzZklpREIvMmNHSTVzSFJNSW9wN1MzU1M0S3NiRWxKL3VrUUtzNkxwSFkxWG9HMnBUTUhxZGl5TE51OGFNZGEycGkzdlRYc2NDS3A4WEdFdmZsNmRtSVQxbmZUVGRNa21ZODRpUkxJT0lBbDg1aUcvWFp1ZUkxV0JSdmNoZlY4VGxad0RtRUNiU1N6TCtXdXYrak8rZ2RCMDR0ODkvMU8vdzFjRG55aWxGVT1cIixcInBlcm1pc3Npb25faWRzXCI6W1wiMDM3OTZlMTQtN2NiNC0xMWVjLTlkYmEtZTcyMDIzZWZkMWM2XCJdLFwidG1fY3JlYXRlXCI6XCIyMDIyLTAyLTAxIDAwOjAwOjAwLjAwMDAwMFwiLFwidG1fdXBkYXRlXCI6XCIyMDIzLTAyLTIaxIDA4OjAxOjEyLjI2MDM4OFwiLFwidG1fZGVsZXRlXCsI6XCI5OTk5LTxLTAxIDAwOjAwOjAwLjAwMDAwMFwifSIsImV4cCI6MTY4MTQ4NzM5MH0.IndaMTiaHzPU5kg6f--WnUNizM5sCa5zcPwD0CF3cw&#39;

{
    &quot;id&quot;: &quot;1cb0566c-6aa5-45fd-beb7-e71a968075ea&quot;,
    &quot;customer_id&quot;: &quot;5e4a0680-804e-11ec-8477-2fea5968d85b&quot;,
    &quot;flow_id&quot;: &quot;93993ae1-0408-4639-ad5f-1288aa8d4325&quot;,
    &quot;status&quot;: &quot;ended&quot;,
    &quot;reference_type&quot;: &quot;call&quot;,
    &quot;reference_id&quot;: &quot;cd40b5f5-dafc-43e6-9b70-38edc1155a0f&quot;,
    &quot;current_action&quot;: {
        &quot;id&quot;: &quot;f9720d64-a8a8-11ed-8853-3f29a447aac1&quot;,
        &quot;next_id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
        &quot;type&quot;: &quot;talk&quot;,
        &quot;option&quot;: {
            &quot;text&quot;: &quot;Hello. Welcome to the voipbin service. Please select the service. For simple talk, press 1. For simple transcribe, press 2. For queue join, press 3. For voicemail, press 4. For conference. press 5. For chatbot talk, press 6. For contact to the project developer, press 0&quot;,
            &quot;gender&quot;: &quot;female&quot;,
            &quot;language&quot;: &quot;en-US&quot;,
            &quot;digits_handle&quot;: &quot;next&quot;
        }
    },
    &quot;forward_action_id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;tm_create&quot;: &quot;2023-04-07 17:23:33.665475&quot;,
    &quot;tm_update&quot;: &quot;2023-04-07 17:23:52.561527&quot;,
    &quot;tm_delete&quot;: &quot;9999-01-01 00:00:00.000000&quot;
}
</pre></div>
</div>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="flow.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>Flow
    </a>
    <a class="float-right" href="call.html" title="Next">
        Call <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">Activeflow</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#flow-vs-activeflow">Flow vs ActiveFlow</a></li>
<li><a class="reference internal" href="#activeflow-states">ActiveFlow States</a></li>
<li><a class="reference internal" href="#execution">Execution</a></li>
<li><a class="reference internal" href="#how-the-cursor-works">How the Cursor Works</a></li>
<li><a class="reference internal" href="#stack-based-execution">Stack-Based Execution</a></li>
<li><a class="reference internal" href="#reference-types">Reference Types</a></li>
<li><a class="reference internal" href="#status-and-control-interface">Status and Control interface</a></li>
<li><a class="reference internal" href="#activeflow-lifecycle">Activeflow Lifecycle</a></li>
<li><a class="reference internal" href="#variable-management">Variable Management</a></li>
<li><a class="reference internal" href="#executed-actions">Executed Actions</a></li>
<li><a class="reference internal" href="#on-complete-flow">On Complete Flow</a></li>
<li><a class="reference internal" href="#error-handling">Error Handling</a></li>
<li><a class="reference internal" href="#common-use-cases">Common Use Cases</a></li>
</ul>
</li>
<li><a class="reference internal" href="#activeflow-struct-activeflow">Activeflow</a><ul>
<li><a class="reference internal" href="#activeflow-struct-activeflow-activeflow">Activeflow</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#reference-type">Reference type</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tutorial">Tutorial</a><ul>
<li><a class="reference internal" href="#get-activeflow-list">Get activeflow list</a></li>
<li><a class="reference internal" href="#stop-activeflow">Stop activeflow</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
                <nav aria-label="Footer">
                    <ul class="nav justify-content-center mb-2">
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="http://voipbin.net">About Us</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="http://voipbin.net">Contact</a></li>
                        
                    </ul>
                </nav>
            
            <div class="text-center">
                    &copy; Copyright 2024, Sungtae Kim
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 9.1.0
                    </a>
                </small>
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=fd6eb6e6"></script>
        <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="_static/dist/theme.js"></script>
        <script type="text/javascript" src="_static/dist/vendor.js"></script>
        <script type="text/javascript" src="_static/searchtools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>