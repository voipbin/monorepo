

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Queue &mdash; voipbin  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Recording" href="recording.html" />
    <link rel="prev" title="Number" href="number.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> voipbin
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="call.html">Call</a></li>
<li class="toctree-l1"><a class="reference internal" href="message.html">Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="agent.html">Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="conference.html">Conference</a></li>
<li class="toctree-l1"><a class="reference internal" href="domain.html">Domain</a></li>
<li class="toctree-l1"><a class="reference internal" href="extension.html">Extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="flow.html">Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="number.html">Number</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Queue</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-purpose-of-call-queueing">The purpose of call queueing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#waiting-actions">Waiting actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#agent-searching">Agent searching</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#struct">Struct</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#queue-struct-queue">Queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="#routing-method">Routing Method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tutorial">Tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-new-queue">Create a new queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-list-of-queues">Get list of queues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="recording.html">Recording</a></li>
<li class="toctree-l1"><a class="reference internal" href="tag.html">Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="campaign.html">Campaign</a></li>
<li class="toctree-l1"><a class="reference internal" href="outdial.html">Outdial</a></li>
<li class="toctree-l1"><a class="reference internal" href="outplan.html">Outplan</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">voipbin</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Queue</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/queue.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="queue">
<h1>Queue<a class="headerlink" href="#queue" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<span id="queue-overfiw"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Call queueing allows calls to be placed on hold without handling the actual enquiries or transferring callers to the desired party.
While in the call queue, the caller is played pre-recorded music or messages. Call queues are often used in call centres when there are not enough staff to handle a large number of calls. Call centre operators generally receive information about the number of callers in the call queue and the duration of the waiting time. This allows them to respond flexibly to peak demand by deploying extra call centre staff.</p>
<div class="section" id="the-purpose-of-call-queueing">
<h3>The purpose of call queueing<a class="headerlink" href="#the-purpose-of-call-queueing" title="Permalink to this headline">¶</a></h3>
<p>Call queueing is intended to prevent callers from being turned away in the case of insufficient staff capacity. The purpose of the pre-recorded music or messages is to shorten the subjective waiting time. At the same time, call queues can be used for advertising products or services. As soon as the call can be dealt with, the caller is automatically transferred from the call queue to the member of staff responsible. If customer or contract data has to be requested in several stages, multiple downstream call queues can be used.</p>
</div>
<div class="section" id="waiting-actions">
<h3>Waiting actions<a class="headerlink" href="#waiting-actions" title="Permalink to this headline">¶</a></h3>
<p>In the VoIPBIN, the queued call will loop the queue’s wating actions until find the available agents of the queue.</p>
<img alt="_images/queue_overview_flow.png" src="_images/queue_overview_flow.png" />
</div>
<div class="section" id="agent-searching">
<h3>Agent searching<a class="headerlink" href="#agent-searching" title="Permalink to this headline">¶</a></h3>
<p>If the call queued to the queue, then the call will loop the waiting action. Meanwhile, the queue is searching for available agents of the queue.
Every valid queue has the tags. When the queue is searching the agents, it picks the agent which the same tag with valid status.</p>
<img alt="_images/queue_overview_agent.png" src="_images/queue_overview_agent.png" />
</div>
</div>
<div class="section" id="struct">
<span id="queue-struct"></span><h2>Struct<a class="headerlink" href="#struct" title="Permalink to this headline">¶</a></h2>
<div class="section" id="queue-struct-queue">
<span id="id1"></span><h3>Queue<a class="headerlink" href="#queue-struct-queue" title="Permalink to this headline">¶</a></h3>
<p>Queue struct</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;routing_method&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tag_ids&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
        <span class="o">...</span>
    <span class="p">],</span>
    <span class="s2">&quot;wait_actions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="n">action</span><span class="o">...</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;wait_timeout&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;service_timeout&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;wait_queue_call_ids&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
        <span class="o">...</span>
    <span class="p">],</span>
    <span class="s2">&quot;service_queue_call_ids&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
        <span class="o">...</span>
    <span class="p">],</span>
    <span class="s2">&quot;total_incoming_count&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;total_serviced_count&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;total_abandoned_count&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;total_waittime&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;total_service_duration&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;tm_create&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tm_update&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tm_delete&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><em>id</em>: Queue’s ID.</p></li>
<li><p><em>name</em>: Queue’s name.</p></li>
<li><p><em>detail</em>: Queue’s detail description.</p></li>
<li><p><em>routing_method</em>: Define the queue’s call routing method. See detail <a class="reference internal" href="queue_struct.html#queue-struct-routing-method"><span class="std std-ref">here</span></a>.</p></li>
<li><p><em>tag_ids</em>: List of tags.</p></li>
<li><p><em>wait_actions</em>: List of actions for waiting calls.</p></li>
<li><p><em>wait_timeout</em>: Timeout for waiting(ms). If it sets to 0, no timeout.</p></li>
<li><p><em>service_timeout</em>: Timeout for service(talk with agent. ms). If it sets to 0, no timeout.</p></li>
<li><p><em>wait_queue_call_ids</em>: List of waiting call ids.</p></li>
<li><p><em>service_queue_call_ids</em>: List of service call ids.</p></li>
<li><p><em>total_incoming_count</em>: Number of joined calls.</p></li>
<li><p><em>total_serviced_count</em>: Number of serviced calls.</p></li>
<li><p><em>total_abandoned_count</em>: Number of abandoned calls.</p></li>
<li><p><em>total_waittime</em>: Sum of all call’s waitting time(ms).</p></li>
<li><p><em>total_service_duration</em>: Sum of all call’s service time(ms).</p></li>
</ul>
</div>
<div class="section" id="routing-method">
<span id="queue-struct-routing-method"></span><h3>Routing Method<a class="headerlink" href="#routing-method" title="Permalink to this headline">¶</a></h3>
<p>Define the queue’s queued call routing method to the agent if the number of available agent is more than 2.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>random</p></td>
<td><p>Pick the agent randomly.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="tutorial">
<span id="queue-tutorial"></span><h2>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-new-queue">
<h3>Create a new queue<a class="headerlink" href="#create-a-new-queue" title="Permalink to this headline">¶</a></h3>
<p>Create a new queue</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ curl --location --request POST &#39;https://api.voipbin.net/v1.0/queues?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjdXN0b21lciI6IntcImlkXCI6XCI1ZTRhMDY4MC04MDRlLTExZWMtODQ3Ny0yZmVhNTk2OGQ4NWJcIixcInVzZXJuYW1lXCI6XCJhZG1pblwiLFwibmFtZVwiOlwiYWRtaW5cIixcImRldGFpbFwiOlwiYWRtaW4gYWNjb3VudFwiLFwid2ViaG9va19tZXRob2RcIjpcIlBPU1RcIixcIndlYmhvb2tfdXJpXCI6XCJodHRwczovL2VuN2V2YWp3aG1xYnQueC5waXBlZHJlYW0ubmV0XCIsXCJwZXJtaXNzaW9uX2lkc1wiOltcIjAzNzk2ZTE0LTdjYjQtMTFlYy05ZGJhLWU3MjAyM2VmZDFjNlwiXSxcInRtX2NyZWF0ZVwiOlwiMjAyMi0wMi0wMSAwMDowMDowMC4wMDAwMDBcIixcInRtX3VwZGF0ZVwiOlwiMjAyMi0wMi0wMiAxODowNToxMC42NTA1MjVcIixcInRtX2RlbGV0ZVwiOlwiOTk5OS0wMS0wMSAwMDowMDowMC4wMDAwMDBcIn0iLCJleHAiOjE2NDY4NzQwMzl9.LoPJ9Vv6GFAItYQ1AVV4lrEoOVtJaFOQx-tkauUR1-g&#39; \
--header &#39;Content-Type: application/json&#39; \
--header &#39;Cookie: token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjdXN0b21lciI6IntcImlkXCI6XCI1ZTRhMDY4MC04MDRlLTExZWMtODQ3Ny0yZmVhNTk2OGQ4NWJcIixcInVzZXJuYW1lXCI6XCJhZG1pblwiLFwibmFtZVwiOlwiYWRtaW5cIixcImRldGFpbFwiOlwiYWRtaW4gYWNjb3VudFwiLFwid2ViaG9va19tZXRob2RcIjpcIlBPU1RcIixcIndlYmhvb2tfdXJpXCI6XCJodHRwczovL2VuN2V2YWp3aG1xYnQueC5waXBlZHJlYW0ubmV0XCIsXCJwZXJtaXNzaW9uX2lkc1wiOltcIjAzNzk2ZTE0LTdjYjQtMTFlYy05ZGJhLWU3MjAyM2VmZDFjNlwiXSxcInRtX2NyZWF0ZVwiOlwiMjAyMi0wMi0wMSAwMDowMDowMC4wMDAwMDBcIixcInRtX3VwZGF0ZVwiOlwiMjAyMi0wMi0wMiAxODowNToxMC42NTA1MjVcIixcInRtX2RlbGV0ZVwiOlwiOTk5OS0wMS0wMSAwMDowMDowMC4wMDAwMDBcIn0iLCJleHAiOjE2NDY4NzQwMzl9.LoPJ9Vv6GFAItYQ1AVV4lrEoOVtJaFOQx-tkauUR1-g&#39; \
--data-raw &#39;{
    &quot;name&quot;: &quot;test queue&quot;,
    &quot;detail&quot;: &quot;test queue detail&quot;,
    &quot;routing_method&quot;: &quot;random&quot;,
    &quot;tag_ids&quot;: [
        &quot;d7450dda-21e0-4611-b09a-8d771c50a5e6&quot;
    ],
    &quot;wait_actions&quot;: [
        {
            &quot;type&quot;: &quot;talk&quot;,
            &quot;option&quot;: {
                &quot;text&quot;: &quot;All of the agents are busy. Thank you for your waiting.&quot;,
                &quot;gender&quot;: &quot;female&quot;,
                &quot;language&quot;: &quot;en-US&quot;
            }
        },
        {
            &quot;type&quot;: &quot;sleep&quot;,
            &quot;option&quot;: {
                &quot;duration&quot;: 10000
            }
        }

    ],
    &quot;timeout_wait&quot;: 100000,
    &quot;timeout_service&quot;: 10000000
}&#39;
</pre></div>
</div>
</div>
<div class="section" id="get-list-of-queues">
<h3>Get list of queues<a class="headerlink" href="#get-list-of-queues" title="Permalink to this headline">¶</a></h3>
<p>Gets the list of created queues.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ curl --location --request GET &#39;https://api.voipbin.net/v1.0/queues?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9

{
    &quot;result&quot;: [
        {
            &quot;id&quot;: &quot;99bf739a-932f-433c-b1bf-103d33d7e9bb&quot;,
            &quot;name&quot;: &quot;test queue&quot;,
            &quot;detail&quot;: &quot;test queue detail&quot;,
            &quot;routing_method&quot;: &quot;random&quot;,
            &quot;tag_ids&quot;: [
                &quot;d7450dda-21e0-4611-b09a-8d771c50a5e6&quot;
            ],
            &quot;wait_actions&quot;: [
                {
                    &quot;id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
                    &quot;next_id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
                    &quot;type&quot;: &quot;talk&quot;,
                    &quot;option&quot;: {
                        &quot;text&quot;: &quot;Hello. This is test queue. Please wait.&quot;,
                        &quot;gender&quot;: &quot;female&quot;,
                        &quot;language&quot;: &quot;en-US&quot;
                    }
                }
            ],
            &quot;wait_timeout&quot;: 100000,
            &quot;service_timeout&quot;: 10000000,
            &quot;wait_queue_call_ids&quot;: [
                &quot;2eb40044-2e5e-4dae-b41e-61968e4febf9&quot;,
                &quot;b0aa4639-fea3-4727-8b86-44667d8f4c27&quot;,
                &quot;ec590f5b-6de5-477b-905b-1833dde213a0&quot;,
                &quot;003e8242-a0ed-4d55-9e4f-59c317c023ad&quot;,
                &quot;467fdfc2-fa2b-40f6-82cf-18dcb4c952c3&quot;,
                &quot;2973648e-5989-4f75-9bda-b356d7a470dc&quot;
            ],
            &quot;service_queue_call_ids&quot;: [],
            &quot;total_incoming_count&quot;: 76,
            &quot;total_serviced_count&quot;: 70,
            &quot;total_abandoned_count&quot;: 21,
            &quot;total_waittime&quot;: 338789,
            &quot;total_service_duration&quot;: 4050690,
            &quot;tm_create&quot;: &quot;2021-12-24 06:33:10.556226&quot;,
            &quot;tm_update&quot;: &quot;2022-02-20 05:30:31.067539&quot;,
            &quot;tm_delete&quot;: &quot;9999-01-01 00:00:00.000000&quot;
        }
    ],
    &quot;next_page_token&quot;: &quot;2021-12-24 06:33:10.556226&quot;
}
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="recording.html" class="btn btn-neutral float-right" title="Recording" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="number.html" class="btn btn-neutral float-left" title="Number" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Sungtae Kim.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>